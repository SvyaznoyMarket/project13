<?php

/**
 * RedirectTable
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class RedirectTable extends myDoctrineTable
{

  /**
   * Returns an instance of this class.
   *
   * @return object RedirectTable
   */
  public static function getInstance()
  {
    return Doctrine_Core::getTable('Redirect');
  }

  public function getDefaultParameters()
  {
    return array(
      'hydrate_array' => false,
    );
  }

  public function getByUrl($url, array $params = array())
  {
    $this->applyDefaultParameters($params);

    $q = $this->createBaseQuery();

    $q->where('redirect.old_url = ?', $url);

    if ($params['hydrate_array'])
    {
      $q->setHydrationMode(Doctrine_Core::HYDRATE_ARRAY);
    }

    return $q->fetchOne();
  }
}