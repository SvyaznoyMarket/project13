<?php

/**
 * ProductPropertyRelation
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 *
 * @package    enter
 * @subpackage model
 * @author     Связной Маркет
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class ProductPropertyRelation extends BaseProductPropertyRelation
{
  public function construct()
  {
    parent::construct();

    $this->mapValue('type', null);
  }

  public function getRealValue()
  {
    $field = $this->getTable()->getValueFieldByType($this->type ? $this->type : $this->Property->type);

    return $this->get($field);
  }

  public function setRealValue($value)
  {
    $type = $this->type ? $this->type : $this->Property->type;
    $field = $this->getTable()->getValueFieldByType($type);

    if ('boolean' == $type)
    {
      $this->set($field, in_array($value, array('true', true, 'да')) ? true : false);
      $this->value = in_array($value, array('true', true, 'да')) ? 'да' : 'нет';
    }
    else {
      $this->set($field, $value);
    }
  }

  public function getFormattedValue()
  {

  }
}
