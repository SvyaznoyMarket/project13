!function(a){var b=(ko.observableArray(),ko.observableArray()),c=a(document.body);c.on("addtocart",function(c,d){d.product&&(b.push(d),a(".basketSum__price .price").text(printPrice(d.cart.full_price)))}),c.on("click",".numerbox a, .jsCartDeleteProduct",function(b){var c=a(this),d=c.attr("href");""!=d&&(b.preventDefault(),a.ajax({url:d,success:function(a){a.success&&a.product&&"undefined"!=typeof a.product.quantity?ENTER.UserModel.productQuantityUpdate(a.product.id,a.product.quantity):a.success&&a.product&&"undefined"==typeof a.product.quantity&&ENTER.UserModel.removeProductByID(a.product.id)}}))})}(jQuery),function(a){var b=a(document.body),c=(a(".cartInfo"),ENTER.config.pageConfig),d=ENTER.UserModel,e="enter_ab_self_delivery_products_1",f="enter_ab_self_delivery_products_2";a(".bGoodsSlider").goodsSlider(),b.on("userLogged",function(){d.cartSum()<c.selfDeliveryLimit&&0!=d.cartSum()&&(c.selfDeliveryTest?b.trigger("trackGoogleEvent",["Платный_самовывоз_"+c.user.region.name,"увидел","статичная корзина"]):b.trigger("trackGoogleEvent",["Платный_самовывоз_"+c.user.region.name,"не увидел","статичная корзина"]))}),b.on("click",".basketLine .jsBuyButton",function(d){var f=a(d.target).closest(".jsSliderItem").data("product");docCookies.hasItem(e)?docCookies.setItem(e,docCookies.getItem(e)+","+f.article):docCookies.setItem(e,f.article),b.trigger("trackGoogleEvent",["Платный_самовывоз_"+c.user.region.name,"добавил из рекомендации","статичная корзина"])}),b.on("click",".basketLine a:not(.jsBuyButton)",function(d){var e=a(d.target),g=e.prop("nodeName"),h="",i=a(d.target).closest(".jsSliderItem").data("product");i&&("A"==g&&(h=e.prop("href")),"IMG"==g&&(h=e.closest("a").prop("href")),docCookies.hasItem(f)?docCookies.setItem(f,docCookies.getItem(f)+","+i.article):docCookies.setItem(f,i.article),""!=h.length&&(d.preventDefault(),b.trigger("trackGoogleEvent",{category:"Платный_самовывоз_"+c.user.region.name,action:"перешел на карточку из рекомендации",label:"статичная корзина",hitCallback:function(){window.location.href=h}})))})}(jQuery);