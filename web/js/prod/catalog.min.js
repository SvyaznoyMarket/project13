(function(e){console.info("New catalog init: filter.js");var t=(e.config.pageConfig.userUrl,e.utils,$(".bFilter")),r=t.find(".bFilterToggle"),i=t.find(".bFilterCont"),n=t.find(".bFilterParams__eItem"),a=t.find(".bFilterValuesItem");console.log("Mustache is "+typeof Mustache);var o={firstName:"Alexandr",lastName:"Zaytsev"},s="<h1>{{firstName}} {{lastName}}</h1>test out with Mustache<br/><a class='jsHistoryLink' href='/newurl'>test history api</a>",l=Mustache.to_html(s,o);$("<div>").addClass("popup").html(l);var c=function c(){var e={title:"history link to "+$(this).attr("href"),url:$(this).attr("href")};return console.info("link handler. push state "+e.url),History.pushState(e,e.title,e.url),!1},u=function u(){var e=History.getState(),t=e.url;console.info("statechange"),console.log(t),console.log(e)};History.Adapter.bind(window,"statechange",u),$("body").on("click",".jsHistoryLink",c);var h=function h(){var e="mOpen",t="mClose",n=r.hasClass(e);return n?(r.removeClass(e).addClass(t),i.slideUp(400)):(r.removeClass(t).addClass(e),i.slideDown(400)),!1},d=function d(){var e=$(this),t="mActive",r=e.hasClass(t),i=e.data("ref");return r?!1:(n.removeClass(t),e.addClass(t),a.fadeOut(300),a.promise().done(function(){$("#"+i).fadeIn(300)}),!1)};r.on("click",h),n.on("click",d);var p=function p(){var e=$(this),t=e.find(".bFilterSlider"),r=t.data("config"),i=e.find(".mFromRange"),n=e.find(".mToRange"),a=r.min,o=r.max,s=r.step;t.slider({range:!0,step:s,min:a,max:o,values:[i.val(),n.val()],slide:function(e,t){i.val(t.values[0]),n.val(t.values[1])},change:function(){console.log("change slider")}})};$(".bRangeSlider").each(p)})(window.ENTER);