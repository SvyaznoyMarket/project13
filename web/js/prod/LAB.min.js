(function(e){function t(e){return"[object Function]"==Object.prototype.toString.call(e)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}function r(e,t){var a=/^\w+\:\/\//;return/^\/\/\/?/.test(e)?e=location.protocol+e:a.test(e)||"/"==e.charAt(0)||(e=(t||"")+e),a.test(e)?e:("/"==e.charAt(0)?y:g)+e}function n(e,t){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function o(e){for(var t=!1,a=0;e.scripts.length>a;a++)e.scripts[a].ready&&e.scripts[a].exec_trigger&&(t=!0,e.scripts[a].exec_trigger(),e.scripts[a].exec_trigger=null);return t}function i(e,t,a,r){e.onload=e.onreadystatechange=function(){e.readyState&&"complete"!=e.readyState&&"loaded"!=e.readyState||t[a]||(e.onload=e.onreadystatechange=null,r())}}function s(e){e.ready=e.finished=!0;for(var t=0;e.finished_listeners.length>t;t++)e.finished_listeners[t]();e.ready_listeners=[],e.finished_listeners=[]}function l(e,t,a,r,n){setTimeout(function(){var o,s,l=t.real_src;if("item"in b){if(!b[0])return setTimeout(arguments.callee,25),void 0;b=b[0]}o=document.createElement("script"),t.type&&(o.type=t.type),t.charset&&(o.charset=t.charset),n?T?(e[h]&&M("start script preload: "+l),a.elem=o,w?(o.preload=!0,o.onpreload=r):o.onreadystatechange=function(){"loaded"==o.readyState&&r()},o.src=l):n&&0==l.indexOf(y)&&e[c]?(s=new XMLHttpRequest,e[h]&&M("start script preload (xhr): "+l),s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},a.text=s.responseText+"\n//@ sourceURL="+l,r())},s.open("GET",l),s.send()):(e[h]&&M("start script preload (cache): "+l),o.type="text/cache-script",i(o,a,"ready",function(){b.removeChild(o),r()}),o.src=l,b.insertBefore(o,b.firstChild)):x?(e[h]&&M("start script load (ordered async): "+l),o.async=!1,i(o,a,"finished",r),o.src=l,b.insertBefore(o,b.firstChild)):(e[h]&&M("start script load: "+l),i(o,a,"finished",r),o.src=l,b.insertBefore(o,b.firstChild))},0)}function d(){function g(e,t,a){function r(){null!=n&&(n=null,s(a))}var n;A[t.src].finished||(e[f]||(A[t.src].finished=!0),n=a.elem||document.createElement("script"),t.type&&(n.type=t.type),t.charset&&(n.charset=t.charset),i(n,a,"finished",r),a.elem?a.elem=null:a.text?(n.onload=n.onreadystatechange=null,n.text=a.text):n.src=t.real_src,b.insertBefore(n,b.firstChild),a.text&&r())}function y(e,t,a,n){var o,i,d=function(){t.ready_cb(t,function(){g(e,t,o)})},u=function(){t.finished_cb(t,a)};t.src=r(t.src,e[v]),t.real_src=t.src+(e[m]?(/\?.*$/.test(t.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),A[t.src]||(A[t.src]={items:[],finished:!1}),i=A[t.src].items,e[f]||0==i.length?(o=i[i.length]={ready:!1,finished:!1,ready_listeners:[d],finished_listeners:[u]},l(e,t,o,n?function(){o.ready=!0;for(var e=0;o.ready_listeners.length>e;e++)o.ready_listeners[e]();o.ready_listeners=[]}:function(){s(o)},n)):(o=i[0],o.finished?u():o.finished_listeners.push(u))}function D(){function e(e,t){u[h]&&M("script preload finished: "+e.real_src),e.ready=!0,e.exec_trigger=t,i()}function r(e,t){u[h]&&M("script execution finished: "+e.real_src),e.ready=e.finished=!0,e.exec_trigger=null;for(var a=0;t.scripts.length>a;a++)if(!t.scripts[a].finished)return;t.finished=!0,i()}function i(){for(;c.length>f;)if(t(c[f])){u[h]&&M("$LAB.wait() executing: "+c[f]);try{c[f++]()}catch(e){u[h]&&P("$LAB.wait() error caught: ",e)}}else{if(!c[f].finished){if(o(c[f]))continue;break}f++}f==c.length&&(m=!1,d=!1)}function s(){d&&d.scripts||c.push(d={scripts:[],finished:!0})}var l,d,u=n(w,{}),c=[],f=0,m=!1;return l={script:function(){for(var o=0;arguments.length>o;o++)(function(o,i){var c;a(o)||(i=[o]);for(var f=0;i.length>f;f++)s(),o=i[f],t(o)&&(o=o()),o&&(a(o)?(c=[].slice.call(o),c.unshift(f,1),[].splice.apply(i,c),f--):("string"==typeof o&&(o={src:o}),o=n(o,{ready:!1,ready_cb:e,finished:!1,finished_cb:r}),d.finished=!1,d.scripts.push(o),y(u,o,d,x&&m),m=!0,u[p]&&l.wait()))})(arguments[o],arguments[o]);return l},wait:function(){if(arguments.length>0){for(var e=0;arguments.length>e;e++)c.push(arguments[e]);d=c[c.length-1]}else d=!1;return i(),l}},{script:l.script,wait:l.wait,setOptions:function(e){return n(e,u),l}}}var _,w={},x=T||E,H=[],A={};return w[c]=!0,w[p]=!1,w[f]=!1,w[m]=!1,w[h]=!1,w[v]="",_={setGlobalDefaults:function(e){return n(e,w),_},setOptions:function(){return D().setOptions.apply(null,arguments)},script:function(){return D().script.apply(null,arguments)},wait:function(){return D().wait.apply(null,arguments)},queueScript:function(){return H[H.length]={type:"script",args:[].slice.call(arguments)},_},queueWait:function(){return H[H.length]={type:"wait",args:[].slice.call(arguments)},_},runQueue:function(){for(var e,t=_,a=H.length,r=a;--r>=0;)e=H.shift(),t=t[e.type].apply(null,e.args);return t},noConflict:function(){return e.$LAB=u,_},sandbox:function(){return d()}}}var u=e.$LAB,c="UseLocalXHR",p="AlwaysPreserveOrder",f="AllowDuplicates",m="CacheBust",h="Debug",v="BasePath",g=/^[^?#]*\//.exec(location.href)[0],y=/^\w+\:\/\/\/?[^\/]+/.exec(g)[0],b=document.head||document.getElementsByTagName("head"),D=e.opera&&"[object Opera]"==Object.prototype.toString.call(e.opera)||"MozAppearance"in document.documentElement.style,M=function(){},P=M,_=document.createElement("script"),w="boolean"==typeof _.preload,T=w||_.readyState&&"uninitialized"==_.readyState,x=!T&&_.async===!0,E=!T&&!x&&!D;e.console&&e.console.log&&(e.console.error||(e.console.error=e.console.log),M=function(t){e.console.log(t)},P=function(t,a){e.console.error(t,a)}),e.$LAB=d(),function(e,t,a){null==document.readyState&&document[e]&&(document.readyState="loading",document[e](t,a=function(){document.removeEventListener(t,a,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")})(this);