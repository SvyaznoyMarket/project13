(function(e){function t(e){return"[object Function]"==Object.prototype.toString.call(e)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}function r(e,t){var a=/^\w+\:\/\//;return/^\/\/\/?/.test(e)?e=location.protocol+e:a.test(e)||"/"==e.charAt(0)||(e=(t||"")+e),a.test(e)?e:("/"==e.charAt(0)?_:g)+e}function n(e,t){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function o(e){for(var t=!1,a=0;e.scripts.length>a;a++)e.scripts[a].ready&&e.scripts[a].exec_trigger&&(t=!0,e.scripts[a].exec_trigger(),e.scripts[a].exec_trigger=null);return t}function i(e,t,a,r){e.onload=e.onreadystatechange=function(){e.readyState&&"complete"!=e.readyState&&"loaded"!=e.readyState||t[a]||(e.onload=e.onreadystatechange=null,r())}}function s(e){e.ready=e.finished=!0;for(var t=0;e.finished_listeners.length>t;t++)e.finished_listeners[t]();e.ready_listeners=[],e.finished_listeners=[]}function l(e,t,a,r,n){setTimeout(function(){var o,s,l=t.real_src;if("item"in y){if(!y[0])return setTimeout(arguments.callee,25),void 0;y=y[0]}o=document.createElement("script"),t.type&&(o.type=t.type),t.charset&&(o.charset=t.charset),n?x?(e[h]&&D("start script preload: "+l),a.elem=o,w?(o.preload=!0,o.onpreload=r):o.onreadystatechange=function(){"loaded"==o.readyState&&r()},o.src=l):n&&0==l.indexOf(_)&&e[p]?(s=new XMLHttpRequest,e[h]&&D("start script preload (xhr): "+l),s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},a.text=s.responseText+"\n//@ sourceURL="+l,r())},s.open("GET",l),s.send()):(e[h]&&D("start script preload (cache): "+l),o.type="text/cache-script",i(o,a,"ready",function(){y.removeChild(o),r()}),o.src=l,y.insertBefore(o,y.firstChild)):T?(e[h]&&D("start script load (ordered async): "+l),o.async=!1,i(o,a,"finished",r),o.src=l,y.insertBefore(o,y.firstChild)):(e[h]&&D("start script load: "+l),i(o,a,"finished",r),o.src=l,y.insertBefore(o,y.firstChild))},0)}function d(){function g(e,t,a){function r(){null!=n&&(n=null,s(a))}var n;A[t.src].finished||(e[f]||(A[t.src].finished=!0),n=a.elem||document.createElement("script"),t.type&&(n.type=t.type),t.charset&&(n.charset=t.charset),i(n,a,"finished",r),a.elem?a.elem=null:a.text?(n.onload=n.onreadystatechange=null,n.text=a.text):n.src=t.real_src,y.insertBefore(n,y.firstChild),a.text&&r())}function _(e,t,a,n){var o,i,d=function(){t.ready_cb(t,function(){g(e,t,o)})},u=function(){t.finished_cb(t,a)};t.src=r(t.src,e[v]),t.real_src=t.src+(e[m]?(/\?.*$/.test(t.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),A[t.src]||(A[t.src]={items:[],finished:!1}),i=A[t.src].items,e[f]||0==i.length?(o=i[i.length]={ready:!1,finished:!1,ready_listeners:[d],finished_listeners:[u]},l(e,t,o,n?function(){o.ready=!0;for(var e=0;o.ready_listeners.length>e;e++)o.ready_listeners[e]();o.ready_listeners=[]}:function(){s(o)},n)):(o=i[0],o.finished?u():o.finished_listeners.push(u))}function b(){function e(e,t){u[h]&&D("script preload finished: "+e.real_src),e.ready=!0,e.exec_trigger=t,i()}function r(e,t){u[h]&&D("script execution finished: "+e.real_src),e.ready=e.finished=!0,e.exec_trigger=null;for(var a=0;t.scripts.length>a;a++)if(!t.scripts[a].finished)return;t.finished=!0,i()}function i(){for(;p.length>f;)if(t(p[f])){u[h]&&D("$LAB.wait() executing: "+p[f]);try{p[f++]()}catch(e){u[h]&&M("$LAB.wait() error caught: ",e)}}else{if(!p[f].finished){if(o(p[f]))continue;break}f++}f==p.length&&(m=!1,d=!1)}function s(){d&&d.scripts||p.push(d={scripts:[],finished:!0})}var l,d,u=n(w,{}),p=[],f=0,m=!1;return l={script:function(){for(var o=0;arguments.length>o;o++)(function(o,i){var p;a(o)||(i=[o]);for(var f=0;i.length>f;f++)s(),o=i[f],t(o)&&(o=o()),o&&(a(o)?(p=[].slice.call(o),p.unshift(f,1),[].splice.apply(i,p),f--):("string"==typeof o&&(o={src:o}),o=n(o,{ready:!1,ready_cb:e,finished:!1,finished_cb:r}),d.finished=!1,d.scripts.push(o),_(u,o,d,T&&m),m=!0,u[c]&&l.wait()))})(arguments[o],arguments[o]);return l},wait:function(){if(arguments.length>0){for(var e=0;arguments.length>e;e++)p.push(arguments[e]);d=p[p.length-1]}else d=!1;return i(),l}},{script:l.script,wait:l.wait,setOptions:function(e){return n(e,u),l}}}var P,w={},T=x||E,H=[],A={};return w[p]=!0,w[c]=!1,w[f]=!1,w[m]=!1,w[h]=!1,w[v]="",P={setGlobalDefaults:function(e){return n(e,w),P},setOptions:function(){return b().setOptions.apply(null,arguments)},script:function(){return b().script.apply(null,arguments)},wait:function(){return b().wait.apply(null,arguments)},queueScript:function(){return H[H.length]={type:"script",args:[].slice.call(arguments)},P},queueWait:function(){return H[H.length]={type:"wait",args:[].slice.call(arguments)},P},runQueue:function(){for(var e,t=P,a=H.length,r=a;--r>=0;)e=H.shift(),t=t[e.type].apply(null,e.args);return t},noConflict:function(){return e.$LAB=u,P},sandbox:function(){return d()}}}var u=e.$LAB,p="UseLocalXHR",c="AlwaysPreserveOrder",f="AllowDuplicates",m="CacheBust",h="Debug",v="BasePath",g=/^[^?#]*\//.exec(location.href)[0],_=/^\w+\:\/\/\/?[^\/]+/.exec(g)[0],y=document.head||document.getElementsByTagName("head"),b=e.opera&&"[object Opera]"==Object.prototype.toString.call(e.opera)||"MozAppearance"in document.documentElement.style,D=function(){},M=D,P=document.createElement("script"),w="boolean"==typeof P.preload,x=w||P.readyState&&"uninitialized"==P.readyState,T=!x&&P.async===!0,E=!x&&!T&&!b;e.console&&e.console.log&&(e.console.error||(e.console.error=e.console.log),D=function(t){e.console.log(t)},M=function(t,a){e.console.error(t,a)}),e.$LAB=d(),function(e,t,a){null==document.readyState&&document[e]&&(document.readyState="loading",document[e](t,a=function(){document.removeEventListener(t,a,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")})(this);