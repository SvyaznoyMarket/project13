(function(e){function t(e){return"[object Function]"==Object.prototype.toString.call(e)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}function r(e,t){var a=/^\w+\:\/\//;return/^\/\/\/?/.test(e)?e=location.protocol+e:a.test(e)||"/"==e.charAt(0)||(e=(t||"")+e),a.test(e)?e:("/"==e.charAt(0)?y:g)+e}function o(e,t){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function n(e){for(var t=!1,a=0;e.scripts.length>a;a++)e.scripts[a].ready&&e.scripts[a].exec_trigger&&(t=!0,e.scripts[a].exec_trigger(),e.scripts[a].exec_trigger=null);return t}function i(e,t,a,r){e.onload=e.onreadystatechange=function(){e.readyState&&"complete"!=e.readyState&&"loaded"!=e.readyState||t[a]||(e.onload=e.onreadystatechange=null,r())}}function s(e){e.ready=e.finished=!0;for(var t=0;e.finished_listeners.length>t;t++)e.finished_listeners[t]();e.ready_listeners=[],e.finished_listeners=[]}function l(e,t,a,r,o){setTimeout(function(){var n,s,l=t.real_src;if("item"in D){if(!D[0])return setTimeout(arguments.callee,25),void 0;D=D[0]}n=document.createElement("script"),t.type&&(n.type=t.type),t.charset&&(n.charset=t.charset),o?T?(e[h]&&M("start script preload: "+l),a.elem=n,_?(n.preload=!0,n.onpreload=r):n.onreadystatechange=function(){"loaded"==n.readyState&&r()},n.src=l):o&&0==l.indexOf(y)&&e[c]?(s=new XMLHttpRequest,e[h]&&M("start script preload (xhr): "+l),s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},a.text=s.responseText+"\n//@ sourceURL="+l,r())},s.open("GET",l),s.send()):(e[h]&&M("start script preload (cache): "+l),n.type="text/cache-script",i(n,a,"ready",function(){D.removeChild(n),r()}),n.src=l,D.insertBefore(n,D.firstChild)):x?(e[h]&&M("start script load (ordered async): "+l),n.async=!1,i(n,a,"finished",r),n.src=l,D.insertBefore(n,D.firstChild)):(e[h]&&M("start script load: "+l),i(n,a,"finished",r),n.src=l,D.insertBefore(n,D.firstChild))},0)}function d(){function g(e,t,a){function r(){null!=o&&(o=null,s(a))}var o;A[t.src].finished||(e[f]||(A[t.src].finished=!0),o=a.elem||document.createElement("script"),t.type&&(o.type=t.type),t.charset&&(o.charset=t.charset),i(o,a,"finished",r),a.elem?a.elem=null:a.text?(o.onload=o.onreadystatechange=null,o.text=a.text):o.src=t.real_src,D.insertBefore(o,D.firstChild),a.text&&r())}function y(e,t,a,o){var n,i,d=function(){t.ready_cb(t,function(){g(e,t,n)})},u=function(){t.finished_cb(t,a)};t.src=r(t.src,e[v]),t.real_src=t.src+(e[m]?(/\?.*$/.test(t.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),A[t.src]||(A[t.src]={items:[],finished:!1}),i=A[t.src].items,e[f]||0==i.length?(n=i[i.length]={ready:!1,finished:!1,ready_listeners:[d],finished_listeners:[u]},l(e,t,n,o?function(){n.ready=!0;for(var e=0;n.ready_listeners.length>e;e++)n.ready_listeners[e]();n.ready_listeners=[]}:function(){s(n)},o)):(n=i[0],n.finished?u():n.finished_listeners.push(u))}function b(){function e(e,t){u[h]&&M("script preload finished: "+e.real_src),e.ready=!0,e.exec_trigger=t,i()}function r(e,t){u[h]&&M("script execution finished: "+e.real_src),e.ready=e.finished=!0,e.exec_trigger=null;for(var a=0;t.scripts.length>a;a++)if(!t.scripts[a].finished)return;t.finished=!0,i()}function i(){for(;c.length>f;)if(t(c[f])){u[h]&&M("$LAB.wait() executing: "+c[f]);try{c[f++]()}catch(e){u[h]&&P("$LAB.wait() error caught: ",e)}}else{if(!c[f].finished){if(n(c[f]))continue;break}f++}f==c.length&&(m=!1,d=!1)}function s(){d&&d.scripts||c.push(d={scripts:[],finished:!0})}var l,d,u=o(_,{}),c=[],f=0,m=!1;return l={script:function(){for(var n=0;arguments.length>n;n++)(function(n,i){var c;a(n)||(i=[n]);for(var f=0;i.length>f;f++)s(),n=i[f],t(n)&&(n=n()),n&&(a(n)?(c=[].slice.call(n),c.unshift(f,1),[].splice.apply(i,c),f--):("string"==typeof n&&(n={src:n}),n=o(n,{ready:!1,ready_cb:e,finished:!1,finished_cb:r}),d.finished=!1,d.scripts.push(n),y(u,n,d,x&&m),m=!0,u[p]&&l.wait()))})(arguments[n],arguments[n]);return l},wait:function(){if(arguments.length>0){for(var e=0;arguments.length>e;e++)c.push(arguments[e]);d=c[c.length-1]}else d=!1;return i(),l}},{script:l.script,wait:l.wait,setOptions:function(e){return o(e,u),l}}}var w,_={},x=T||E,H=[],A={};return _[c]=!0,_[p]=!1,_[f]=!1,_[m]=!1,_[h]=!1,_[v]="",w={setGlobalDefaults:function(e){return o(e,_),w},setOptions:function(){return b().setOptions.apply(null,arguments)},script:function(){return b().script.apply(null,arguments)},wait:function(){return b().wait.apply(null,arguments)},queueScript:function(){return H[H.length]={type:"script",args:[].slice.call(arguments)},w},queueWait:function(){return H[H.length]={type:"wait",args:[].slice.call(arguments)},w},runQueue:function(){for(var e,t=w,a=H.length,r=a;--r>=0;)e=H.shift(),t=t[e.type].apply(null,e.args);return t},noConflict:function(){return e.$LAB=u,w},sandbox:function(){return d()}}}var u=e.$LAB,c="UseLocalXHR",p="AlwaysPreserveOrder",f="AllowDuplicates",m="CacheBust",h="Debug",v="BasePath",g=/^[^?#]*\//.exec(location.href)[0],y=/^\w+\:\/\/\/?[^\/]+/.exec(g)[0],D=document.head||document.getElementsByTagName("head"),b=e.opera&&"[object Opera]"==Object.prototype.toString.call(e.opera)||"MozAppearance"in document.documentElement.style,M=function(){},P=M,w=document.createElement("script"),_="boolean"==typeof w.preload,T=_||w.readyState&&"uninitialized"==w.readyState,x=!T&&w.async===!0,E=!T&&!x&&!b;e.console&&e.console.log&&(e.console.error||(e.console.error=e.console.log),M=function(t){e.console.log(t)},P=function(t,a){e.console.error(t,a)}),e.$LAB=d(),function(e,t,a){null==document.readyState&&document[e]&&(document.readyState="loading",document[e](t,a=function(){document.removeEventListener(t,a,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")})(this);