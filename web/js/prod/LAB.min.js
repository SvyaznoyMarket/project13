(function(e){function t(e){return"[object Function]"==Object.prototype.toString.call(e)}function r(e){return"[object Array]"==Object.prototype.toString.call(e)}function n(e,t){var r=/^\w+\:\/\//;return/^\/\/\/?/.test(e)?e=location.protocol+e:r.test(e)||"/"==e.charAt(0)||(e=(t||"")+e),r.test(e)?e:("/"==e.charAt(0)?y:g)+e}function s(e,t){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function i(e){for(var t=!1,r=0;e.scripts.length>r;r++)e.scripts[r].ready&&e.scripts[r].exec_trigger&&(t=!0,e.scripts[r].exec_trigger(),e.scripts[r].exec_trigger=null);return t}function a(e,t,r,n){e.onload=e.onreadystatechange=function(){e.readyState&&"complete"!=e.readyState&&"loaded"!=e.readyState||t[r]||(e.onload=e.onreadystatechange=null,n())}}function o(e){e.ready=e.finished=!0;for(var t=0;e.finished_listeners.length>t;t++)e.finished_listeners[t]();e.ready_listeners=[],e.finished_listeners=[]}function l(e,t,r,n,s){setTimeout(function(){var i,o,l=t.real_src;if("item"in R){if(!R[0])return setTimeout(arguments.callee,25),void 0;R=R[0]}i=document.createElement("script"),t.type&&(i.type=t.type),t.charset&&(i.charset=t.charset),s?T?(e[m]&&x("start script preload: "+l),r.elem=i,E?(i.preload=!0,i.onpreload=n):i.onreadystatechange=function(){"loaded"==i.readyState&&n()},i.src=l):s&&0==l.indexOf(y)&&e[c]?(o=new XMLHttpRequest,e[m]&&x("start script preload (xhr): "+l),o.onreadystatechange=function(){4==o.readyState&&(o.onreadystatechange=function(){},r.text=o.responseText+"\n//@ sourceURL="+l,n())},o.open("GET",l),o.send()):(e[m]&&x("start script preload (cache): "+l),i.type="text/cache-script",a(i,r,"ready",function(){R.removeChild(i),n()}),i.src=l,R.insertBefore(i,R.firstChild)):b?(e[m]&&x("start script load (ordered async): "+l),i.async=!1,a(i,r,"finished",n),i.src=l,R.insertBefore(i,R.firstChild)):(e[m]&&x("start script load: "+l),a(i,r,"finished",n),i.src=l,R.insertBefore(i,R.firstChild))},0)}function u(){function g(e,t,r){function n(){null!=s&&(s=null,o(r))}var s;J[t.src].finished||(e[h]||(J[t.src].finished=!0),s=r.elem||document.createElement("script"),t.type&&(s.type=t.type),t.charset&&(s.charset=t.charset),a(s,r,"finished",n),r.elem?r.elem=null:r.text?(s.onload=s.onreadystatechange=null,s.text=r.text):s.src=t.real_src,R.insertBefore(s,R.firstChild),r.text&&n())}function y(e,t,r,s){var i,a,u=function(){t.ready_cb(t,function(){g(e,t,i)})},d=function(){t.finished_cb(t,r)};t.src=n(t.src,e[_]),t.real_src=t.src+(e[f]?(/\?.*$/.test(t.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),J[t.src]||(J[t.src]={items:[],finished:!1}),a=J[t.src].items,e[h]||0==a.length?(i=a[a.length]={ready:!1,finished:!1,ready_listeners:[u],finished_listeners:[d]},l(e,t,i,s?function(){i.ready=!0;for(var e=0;i.ready_listeners.length>e;e++)i.ready_listeners[e]();i.ready_listeners=[]}:function(){o(i)},s)):(i=a[0],i.finished?d():i.finished_listeners.push(d))}function q(){function e(e,t){d[m]&&x("script preload finished: "+e.real_src),e.ready=!0,e.exec_trigger=t,a()}function n(e,t){d[m]&&x("script execution finished: "+e.real_src),e.ready=e.finished=!0,e.exec_trigger=null;for(var r=0;t.scripts.length>r;r++)if(!t.scripts[r].finished)return;t.finished=!0,a()}function a(){for(;c.length>h;)if(t(c[h])){d[m]&&x("$LAB.wait() executing: "+c[h]);try{c[h++]()}catch(e){d[m]&&v("$LAB.wait() error caught: ",e)}}else{if(!c[h].finished){if(i(c[h]))continue;break}h++}h==c.length&&(f=!1,u=!1)}function o(){u&&u.scripts||c.push(u={scripts:[],finished:!0})}var l,u,d=s(E,{}),c=[],h=0,f=!1;return l={script:function(){for(var i=0;arguments.length>i;i++)(function(i,a){var c;r(i)||(a=[i]);for(var h=0;a.length>h;h++)o(),i=a[h],t(i)&&(i=i()),i&&(r(i)?(c=[].slice.call(i),c.unshift(h,1),[].splice.apply(a,c),h--):("string"==typeof i&&(i={src:i}),i=s(i,{ready:!1,ready_cb:e,finished:!1,finished_cb:n}),u.finished=!1,u.scripts.push(i),y(d,i,u,b&&f),f=!0,d[p]&&l.wait()))})(arguments[i],arguments[i]);return l},wait:function(){if(arguments.length>0){for(var e=0;arguments.length>e;e++)c.push(arguments[e]);u=c[c.length-1]}else u=!1;return a(),l}},{script:l.script,wait:l.wait,setOptions:function(e){return s(e,d),l}}}var H,E={},b=T||w,O=[],J={};return E[c]=!0,E[p]=!1,E[h]=!1,E[f]=!1,E[m]=!1,E[_]="",H={setGlobalDefaults:function(e){return s(e,E),H},setOptions:function(){return q().setOptions.apply(null,arguments)},script:function(){return q().script.apply(null,arguments)},wait:function(){return q().wait.apply(null,arguments)},queueScript:function(){return O[O.length]={type:"script",args:[].slice.call(arguments)},H},queueWait:function(){return O[O.length]={type:"wait",args:[].slice.call(arguments)},H},runQueue:function(){for(var e,t=H,r=O.length,n=r;--n>=0;)e=O.shift(),t=t[e.type].apply(null,e.args);return t},noConflict:function(){return e.$LAB=d,H},sandbox:function(){return u()}}}var d=e.$LAB,c="UseLocalXHR",p="AlwaysPreserveOrder",h="AllowDuplicates",f="CacheBust",m="Debug",_="BasePath",g=/^[^?#]*\//.exec(location.href)[0],y=/^\w+\:\/\/\/?[^\/]+/.exec(g)[0],R=document.head||document.getElementsByTagName("head"),q=e.opera&&"[object Opera]"==Object.prototype.toString.call(e.opera)||"MozAppearance"in document.documentElement.style,x=function(){},v=x,H=document.createElement("script"),E="boolean"==typeof H.preload,T=E||H.readyState&&"uninitialized"==H.readyState,b=!T&&H.async===!0,w=!T&&!b&&!q;e.console&&e.console.log&&(e.console.error||(e.console.error=e.console.log),x=function(t){e.console.log(t)},v=function(t,r){e.console.error(t,r)}),e.$LAB=u(),function(e,t,r){null==document.readyState&&document[e]&&(document.readyState="loading",document[e](t,r=function(){document.removeEventListener(t,r,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")})(this);