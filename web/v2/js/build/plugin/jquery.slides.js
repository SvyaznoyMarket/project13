!function(e){e.fn.slidesbox=function(s){var i=e(window);return this.each(function(){var t=e.extend({},e.fn.slidesbox.defaults,s),l=e(this),d=l.find(t.leftBtnControl),r=l.find(t.rightBtnControl),a=l.find(t.itemControl),n=l.find(t.slidesContControl),m=(l.find(t.pagerControl),"slidesImg_item-left");slidesData=l.data("value"),slidesDataLength=l.data("value").length,curSlides=0;var g=function(){a.each(function(){var s=e(this);s.attr({"data-index":curSlides}),itemUrl=l.data("value")[curSlides].url,contSrc=l.data("value")[curSlides].image,s.attr("href",itemUrl),s.find(n).attr("src",contSrc),curSlides++}),curSlides=0,console.log(curSlides)},c=function(){itemUrl=l.data("value")[curSlides].url,contSrc=l.data("value")[curSlides].image,a.attr("href",itemUrl),n.attr("src",contSrc)},o=function(){slidesH=n.height(),l.css({height:slidesH})},f=function(){curSlides++,slidesImgCenter=l.find(".slidesImg_item-center"),slidesImgCenter.removeClass("slidesImg_item-center").addClass("slidesImg_item-left"),slidesImgCenter.next().removeClass("slidesImg_item-right").addClass("slidesImg_item-center"),slidesImgCenter.after('<a href="'+itemUrl+'" class="js-slides-img-item slidesImg_item slidesImg_item-right" data-index="'+curSlides+'"><img src="'+contSrc+'" class="js-slides-img-cont slidesImg_cont"></a>'),a.hasClass(m).remove(),p(),c()},u=function(){curSlides--,slidesImgCenter=l.find(".slidesImg_item-center"),slidesImgCenter.removeClass("slidesImg_item-center").addClass("slidesImg_item-right"),slidesImgCenter.prev().removeClass("slidesImg_item-left").addClass("slidesImg_item-center"),p()},C=function(){slidesDataLength-2>=curSlides&&f()},h=function(){curSlides>=1&&u()},I=function(){var s="";sliderPager=e('<div class="js-slides-img-pag slidesImg_pager" />'),slidesDataLength>0&&l.append(sliderPager);for(var i=0;slidesDataLength-1>=i;i++)s+='<div class="js-slides-img-pag-item slidesImg_pager_item" data-slide-index="'+i+'" />';sliderPager.html(s)},p=function(){pagerItem=l.find(".js-slides-img-pag-item"),pagerItemData=pagerItem.data("slide-index"),pagerItem.first().addClass("slidesImg_pager_item-active"),pagerItem.each(function(){e(this).removeClass("slidesImg_pager_item-active"),curSlides==e(this).data("slide-index")&&e(this).addClass("slidesImg_pager_item-active")})};g(),I(),p(),l.find(t.pagerControl).css({"margin-left":-l.find(t.pagerControl).width()/2}),l.touchwipe({wipeLeft:function(){C()},wipeRight:function(){h()}}),r.on("click",C),d.on("click",h),i.on("resize",o),o()})},e.fn.slidesbox.defaults={leftBtnControl:".js-slides-img-left",rightBtnControl:".js-slides-img-right",slidesControl:".js-slides-img",pagerControl:".js-slides-img-pag",itemControl:".js-slides-img-item",slidesContControl:".js-slides-img-cont"},e(".slidesImg").slidesbox()}(jQuery);