define(["jquery","underscore","mustache","module/widget"],function(e,t,n){var a=e(document),o=e("body"),d=e(".js-debug");a.ajaxComplete(function(t,a){try{var o=JSON.parse(a.responseText),r=e("#tpl-debug-container").html();if(o&&o.debug){var i=o.debug||{};i.status=200===a.status?!1:{code:a.status,text:a.statusText};var s=e(n.render(r,i));s.appendTo(d),d.data("opened")&&s.slideDown(200)}}catch(u){console.error(u)}}),e(".js-debug-link").on("click",function(t){t.stopPropagation();var n=e(t.target);d.data("opened",!0),n.hide(),d.find(".js-widget").slideDown(200),t.preventDefault()}),o.on("click",".js-debug-container-link",function(t){t.stopPropagation();var n=e(t.target);if(n.blur(),d.find(".js-debug-container-content").slideUp(100),n.length){var a=e(n.data("contentSelector"));a.is(":hidden")&&a.slideDown(200)}t.preventDefault()}),o.on("click",function(t){var n=e(t.target);n.closest(".js-debug").length||(d.data("opened",!1),d.find(".js-widget").slideUp(100,function(){e(".js-debug-link").show()}))}),o.on("click",".js-debug-tab",function(t){t.stopPropagation();var n=e(t.target);n.parents(".js-widget").find(".js-debug-tab").each(function(t,n){var a=e(n);e(a.attr("href")).hide()}),e(n.attr("href")).show(),t.preventDefault()}),d.find(".js-widget").each(function(t,n){var a=e(n);a.trigger("render",a.data("value"))})});