define(["jquery","underscore","mustache","module/widget"],function(e,t,n){var a=e(document),d=e("body"),o=e(".js-debug");a.ajaxComplete(function(t,a){try{var d=JSON.parse(a.responseText),i=e("#tpl-debug-container").html();if(d&&d.debug){var r=d.debug||{};r.status=200===a.status?!1:{code:a.status,text:a.statusText};var s=e(n.render(i,r));s.appendTo(o),o.data("opened")&&s.slideDown(200)}}catch(u){console.error(u)}}),e(".js-debug-link").on("click",function(t){t.stopPropagation();var n=e(t.target);o.data("opened",!0),n.hide(),o.find(".js-widget").slideDown(200),t.preventDefault()}),d.on("click",".js-debug-container-link",function(t){t.stopPropagation();var n=e(t.target);if(n.blur(),o.find(".js-debug-container-content").slideUp(100),n.length){var a=e(n.data("contentSelector"));a.is(":hidden")&&a.slideDown(200)}t.preventDefault()}),d.on("click",function(){!0===o.data("opened")&&(o.data("opened",!1),o.find(".js-widget").slideUp(100,function(){e(".js-debug-link").show()}))}),o.find(".js-widget").each(function(t,n){var a=e(n);a.trigger("render",a.data("value"))})});